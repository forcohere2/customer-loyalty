<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Customer Retention</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.9/dist/css/autoComplete.02.min.css">
        <link rel="stylesheet" href="style.css">
        <link href="https://unpkg.com/vanilla-datatables@latest/dist/vanilla-dataTables.min.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <h2>Customer Retention</h2>
        <div class="form-container">
            <div class="input-group">
                <label>Phone Number:</label>
                <input type="tel" id="phone" placeholder="Enter phone number">
            </div>
            <div class="input-group">
                <label>Date:</label>
                <input type="date" id="date">
            </div>
            <div class="input-group">
                <label>Purchase Amount:</label>
                <input type="number" id="amount" placeholder="Enter amount">
            </div>
        </div>
        <button onclick="searchUser()">Search</button>
        <button onclick="addPurchase()">Add Purchase</button>
        <h3>Purchase History</h3>
        <div id="no-history-message" style="display: none; color: red;">No purchase history available for this customer.</div>
        <table id="purchaseTable">
            <thead>
                <tr>
                    <th>Serial No.</th>
                    <th>Purchase Date</th>
                    <th>Total Amount</th>
                    <th>Usable Credit</th>
                    <th>Final Price</th>
                    <th>New Credit</th>
                    <th>Total Credit</th>
                    <th>Expiry Date</th>
                </tr>
            </thead>
            <tbody id="purchase-table"></tbody>
        </table>
        <script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.9/dist/autoComplete.min.js"></script>
        <script src="script.js"></script>
        <script src="https://unpkg.com/vanilla-datatables@latest/dist/vanilla-dataTables.min.js" type="text/javascript"></script>
    </body>
</html>